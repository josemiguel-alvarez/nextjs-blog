---
title: "Focus management is not easy"
summary: "Focus management is not easy"
date: "2022-07-26"
tags: ["javascript", "dialogs"]
images: ["/static/images/nodejs.png"]
draft: false
---

import { Dialog } from "@/components/posts/focus-management/dialog";

# Focus management is not easy

dialogs are especially difficult because there was no way to "hoist" your `<div>` to the top level of the page. In frameworks like React we can solve this by using libraries who provide this functionality.

`<dialog>` and inert are primitives which simplify your codebase and lets you focus on the important parts of your application.

- dialogs prevent access behind the top-most open dialog (everything is inert)
- they exist in a top layer above regular stacking context
- they have a default CSS position of fixed

inert works on any DOM element
it is a better version of `pointer-events: none`

```js
const openDialog = () => {
  // This class is setting transform/opacity
  theDialog.className = "offscreen";
  theDialog.showModal();
  // Clear once on the page and any CSS transitions
  // will now occur (e.g. transition: opacity 25)
  theDialog.className = "";
};

const closeDialog = () => {
  theDialog.className = "offscreen";
  theDialog.inert = true;
  theDialog.addEventListener(
    "transitionend",
    () => {
      theDialog.close();
      theDialog.inert = false;
    },
    { once: true }
  );
};

theDialog.addEventListener("close", (e) => {
  // Don't allow close with ESC
  e.preventDefault();
});
```

Safari and Firefox recently started supporting dialog. Chrome supports it since 2014.

<Dialog />
